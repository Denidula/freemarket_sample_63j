
.contents

  = render partial: 'shared/header'


  .search-container.clearfix
    .search-left
      .sort-box
        %select
          %option(value="並べ替え") 並べ替え
          %option(value="価格の安い順") 価格の安い順
          %option(value="価格の高い順") 価格の高い順
          %option(value="出品の古い順") 出品の古い順
          %option(value="出品の新しい順") 出品の新しい順
          %option(value="いいね!の多い順") いいね!の多い順
        .chevron-down
      .search-box
        = search_form_for(@q, url: search_path) do |f|
          %p.text-detail-search 詳細検索

          .form-group
            = f.label :name, {class: "form-group__labels", for: :input_keyword} do
              = fa_icon 'plus'
              = 'キーワードを追加する'
            = f.search_field :name_cont, class: "form-group__text-field", id: 'input_keyword', placeholder: '例）値下げ'

          .form-group#category_search
            = f.label :parent_category, {class: "form-group__labels", for: :select_category} do
              = fa_icon 'bars'
              カテゴリーを選択する
            = f.select :parent_category, @category_parent_array, {}, {id: 'select_category', class: 'form-group__text-field'}
            .chevron-down

          .form-group
            = f.label :name, {class: "form-group__labels", for: :input_bland} do
              = fa_icon 'tag'
              ブランド名から探す
            = f.text_field :name, class: "form-group__text-field", id: 'input_bland', placeholder: '例）シャネル'

          .form-group
            = f.label :name, {class: "form-group__labels", for: :size_select} do
              = fa_icon 'compress'
              サイズを指定する
            = f.select :size, @size_array, {}, {id: 'size_select', class: 'form-group__text-field'}
            .chevron-down

          .form-group
            = f.label :parent_category, {class: "form-group__labels", for: :price_select} do
              = fa_icon 'yen'
              価格
            = f.select :price, @price_array, {}, {id: 'price_select', class: 'form-group__text-field'}
            .chevron-down
            = f.number_field :price_gteq, class: 'form-group__text-field-left', placeholder: '¥ Min'
            %span.tilde ~
            = f.number_field :price_lt, class: 'form-group__text-field-right', placeholder: '¥ Max'

          .form-group{style: 'min-height: 230px'}
            = f.label :condition, {class: "form-group__labels", for: :condition_check} do
              = fa_icon 'star'
              商品の状態
            .form-group__check-boxes
              .form-group__check-boxes__box
                = f.check_box :condition_1, {:checked => false}, true, false
                = f.label :condition_1, {} do
                  すべて
              .form-group__check-boxes__box
                = f.check_box :condition_2, {:checked => false}, true, false
                = f.label :condition_2, {} do
                  新品・未使用
              .form-group__check-boxes__box
                = f.check_box :condition_3, {:checked => false}, true, false
                = f.label :condition_3, {} do
                  未使用に近い
              .form-group__check-boxes__box
                = f.check_box :condition_4, {:checked => false}, true, false
                = f.label :condition_4, {} do
                  目立った傷や汚れなし
              .form-group__check-boxes__box
                = f.check_box :condition_5, {:checked => false}, true, false
                = f.label :condition_5, {} do
                  やや傷や汚れあり
              .form-group__check-boxes__box
                = f.check_box :condition_6, {:checked => false}, true, false
                = f.label :condition_6, {} do
                  傷や汚れあり
              .form-group__check-boxes__box
                = f.check_box :condition_7, {:checked => false}, true, false
                = f.label :condition_7, {} do
                  全体的に状態が悪い

          .form-group{style: 'min-height: 140px'}
            = f.label :charge, {class: "form-group__labels", for: :charge_check} do
              = fa_icon 'truck'
              配送料の負担
            .form-group__check-boxes
              .form-group__check-boxes__box
                = f.check_box :charge_1, {:checked => false}, true, false
                = f.label :charge_1, {} do
                  すべて
              .form-group__check-boxes__box
                = f.check_box :charge_2, {:checked => false}, true, false
                = f.label :charge_2, {} do
                  着払い(購入者負担)
              .form-group__check-boxes__box
                = f.check_box :charge_3, {:checked => false}, true, false
                = f.label :charge_3, {} do
                  送料込み(出品者負担)

          .form-group{style: 'min-height: 120px'}
            = f.label :status, {class: "form-group__labels", for: :status_check} do
              = fa_icon 'shopping-cart'
              販売状況
            .form-group__check-boxes
              .form-group__check-boxes__box
                = f.check_box :status_1, {:checked => false}, true, false
                = f.label :status_1, {} do
                  すべて
              .form-group__check-boxes__box
                = f.check_box :status_2, {:checked => false}, true, false
                = f.label :status_2, {} do
                  販売中
              .form-group__check-boxes__box
                = f.check_box :status_3, {:checked => false}, true, false
                = f.label :status_3, {} do
                  売り切れ

          .btns
            = f.submit 'クリア', type: :reset, class: 'btns__clear-btn'
            = f.submit '完了', class: 'btns__submit-btn'

    .search-right
      %section.items-box-container.clearfix

        - if @items.count > 0 && @keyword != ""
          %h2.search-result-head
            = @keyword
            %span.search-result-head-text
              の検索結果

          .search-result-number
            = "1-#{@items.count}件表示"

          .items-box-content.clearfix
            %ul.clearfix
              = render 'items/items'

        - elsif @items.count == 0
          %h2.search-result-head
            = @keyword
            %span.search-result-head-text
              の検索結果
          %p{style: "font-size: 14px"}
            該当する商品が見つかりません。検索条件を変えて、再度お試しください。
          %br/
          %br/

          %h2.search-result-nil
            %p{style: "font-size: 22px; font-weight: bold;"}
              新着商品

          .items-box-content.clearfix
            %ul.clearfix
              = render 'new_items'

        - else
          %h2.search-result-nil
            %p{style: "font-size: 22px; font-weight: bold;"}
              新着商品

          .items-box-content.clearfix
            %ul.clearfix
              = render 'new_items'

= render partial: 'shared/footer'
